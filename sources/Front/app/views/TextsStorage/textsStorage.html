#{extends 'master.html' /}
#{set title:'Texts Storage' /}

#{doBody}
    #{renderNavigation currentIdx:1 /}

    <div class="l-content l-content__oneCol g-rounded">
	    <h1 class="g-secondaryTitle">Uploaded Files</h1>
	
		<ul>
		    #{list items: filesInfo, as: 'item'}
		        #{renderFileInfo fileInfo:item /}
		    #{/list}
		</ul>
	</div>
	
	<!--TODO: this markup was generated by zzz-->
	<div style="padding-top: 30px;">
		Upload new text: <br/>
		
		#{form @TextsStorage.submit()}
			<div>
		    	TextId: <input type="text" id="textId" name="textId" />
		    	<span class="error">#{error 'textId' /}</span>
		   	</div>
		   	<div>
		   		<input type="file" id="textInput" name="textFile"/>
		    	<span class="error">#{error 'textFile' /}</span>
		   	</div>
			<input type="submit" id="uploadButton" value="Upload">
		#{/form}

	</div>
	
	<br/>
	
	<div>
		Download text by id: <br/>
		<form method="get" action="@{TextsStorage.download()}">
			<input type="text" id="textId" name="textId"/>
			<input type="submit" id="donwloadButton" value="Download">
		</form>
	</div>
	
#{/doBody}